import enum
from flask import Flask, request
import os
GHOST = "Banshee"
lastmsg = str()
ghostdata = {
"Banshee": {"evidence": ["fp", "orb", "dots"], "strengths": ["Focuses on the same player until that player is killed or has left the game"], "weakness": [], "ability": ["Can produce a unique screech on the parabolic microphone", "Performs melodic ghost events more often than other ghost types"], "behaviour": ["At the start of the game, the players are randomly sorted into a list, and the first person on the list is selected as the primary target. If the primary target leaves the game, or any player dies, a new primary target will be selected.", "A Banshee will only check for their target's sanity when trying to initiate a hunt, instead of the average sanity of the team. When a Banshee hunts, it will mostly follow standard hunt rules, but it will ignore all players other than its target, and will not attempt to chase other players and will not kill them, even if it comes into contact with a non-target player. The Banshee will react to Smudge Sticks lit by other players, but this will not allow for completion of the Repel a ghost while it is chasing someone optional objective unless the Banshee is also chasing its target when this occurs.", "If a Banshee begins a hunt while its primary target is outside the building, the intended behaviour is for the Banshee to hunt like any other ghost, chasing any opportune player. However, the current mechanics appear to be bugged and work as follows: the Banshee will select the next person on its list that is inside the building as a temporary, secondary target and will only attempt to kill them. In the same hunt, if the host player is inside the investigation area and is neither the primary nor the secondary target, the Banshee will also be attracted to the host player through voice or electronics, but will not be able to achieve line-of-sight with or kill them. Any fourth player will be completely ignored by the Banshee. In all cases, the Banshee will still only check for its primary target's sanity when trying to start a hunt, even while they are outside.", "The Banshee has a mechanic similar to the Phantom's, where it will occasionally walk to the position of its target outside of a hunt.", "A Banshee will prefer to cause ghost events where it sings over other types of ghost events. If the target causes the Banshee to disappear during a singing event by colliding with it, their sanity will drop by 15 percent instead of the standard 10 percent.", "Other than the effects stated above, being the Banshee's target does not appear to affect other mechanics such as the rate of interactions.", "When a Parabolic Microphone is used, the Banshee has a chance of making a unique shriek-like paranormal sound."], "strats": ["Identifying the target player of a Banshee both conclusively identifies it and can provide players with a significant edge, such as making hunt-related objectives much easier, and enabling the other players to continue investigating during hunts with impunity, though it is important to note that the target player must be inside the investigation area for this to be applicable. There are several methods players may use to identify a Banshee's target:", "Banshees will only check for the individual sanity level of the target player when attempting to hunt. If the ghost hunts above the average sanity of 50 percent, and one or more players are below 50 percent sanity, then one of them is the target. Likewise, if the ghost refrains from hunting at below 50 percent average sanity, but one player has high sanity, they can be presumed to be the Banshee's target.", 'Having players act as "baits" with smudge sticks and/or escape routes ready can definitively identify the target. Bait players should stand in plain sight and attempt to actively attract the ghost, such as talking into the microphone or holding active electronics; if the ghost ignores them, have another player repeat the process then proceed by elimination until the target is found. Alternatively, multiple players can do this at a time, standing separate from each-other and seeing which of them the Banshee rushes for. This method, though more risky, is useful either when the sanity-based method proves inconclusive, or when playing on Nightmare difficulty where the Sanity Monitor is not available.', 'Banshees tend to wander towards their target outside of hunts; a player reporting frequent activity or even hunts starting near them and far away from the ghost room is most likely the target.', 'Note that if the target player dies or disconnects, a new target will be selected. This also applies on the Nightmare difficulty: if the Banshee manages to kill its target, it will immediately select another player and continue hunting.']},
"Demon": {"evidence": ["fp", "book", "therm"], "strengths": ["Hunts more often than any other type of ghost"], "weakness": ['Increased effective crucifix range', 'Rare chance to hunt at any sanity percentage'], "ability": ["Can hunt from 70 percent sanity", "Rare chance to hunt at any sanity percentage"], "behaviour": ['A Demon can begin a hunt when the average sanity is below 70 percent instead of the usual 50 percent threshold for most other ghosts. In addition, the Demon has a separate ability that allows it to start a hunt regardless of average sanity. When this ability is used, the Demon will randomly select a player, then walk to that player. If it has line-of-sight with that player[verify] within 20 seconds of it starting its walk, it will initiate a hunt.', 'Demons have a minimum cooldown of 20 seconds between hunts, instead of the usual 25 seconds.', 'Smudging a Demon will prevent hunts for only 60 seconds, as opposed to the standard 90 seconds.', 'As a weakness, the effective range of a crucifix is 5 meters instead of the standard 3 meters.'], "strats": ["To identify a Demon via its traits, players may time the cooldown between hunts, or watch out for signs of a very early hunt. Given the Demon's relative aggressiveness in hunting, players should plan their route to the ghost room and what they wish to bring for any objectives, while considering whether to hide or to smudge the ghost if it hunts. Sprint may need to be conserved once approaching the ghost room in order to make a quick escape in the event of a sudden hunt."]},
"Deogen": {"evidence": ["sb", "book", "dots"], "strengths": ['Always knows where players are during a hunt', 'Moves at a high speed with no player nearby'], "weakness": ['Significantly slows down when near the player', 'Has a lower hunt sanity threshold'], "ability": ["Produces a unique response through the Spirit Box"], "behaviour": ['The Deogen is more likely to interact with the D.O.T.S Projector and Ghost Writing Book; in other words, it will on average write in a book earlier than other ghosts, and show up more often as a silhouette on the D.O.T.S Projector.', "The Deogen's hunt sanity threshold is 40 percent, instead of the usual 50 percent.", 'During a hunt, the Deogen always has line-of-sight with all players on the map; in other words, it does not use the "roaming" mechanic. When the hunt begins, the Deogen will pick the nearest player (by Euclidean distance) to move towards. It will occasionally "refresh" and repick the nearest target throughout the hunt. One can also use Smudge Stick to force the Deogen to repick the nearest target when the smudge effect runs out.', "The Deogen's speed is based on its pathfinding distance to the target player and has three thresholds: above 6 meters, between 6 and 2.5 meters and below 2.5 meters.", '> 6 metres: 3 m/s', '< 2.5 metres: 0.4 m/s', 'Between 2.5 - 6 metres, the ghost becomes slower as it approaches the player. The Deogen does not alter its speed based on line-of-sight.', 'If the player asks any question through the Spirit Box while standing within 1 metre of the Deogen, it has a 33 percent chance with each question to produce a unique response of constant heavy bull-like breathing, instead of a regular response.', 'The Deogen blink faster during hunts; it is visible for longer intervals and/or is invisible for shorter intervals.'], "strats": ["Since there is almost no way to survive a hunt simply by hiding when the ghost is a Deogen, it must be either looped or kited until the hunt ends, ideally around a kitchen counter or in a long hallway. To avoid unnecessary deaths, players who are not kiting the ghost should stay in another room, ideally one which also allows some form of escape in case the target has to enter. Though the ghost always knows where the player is, its slow speed near a player opens up more opportunities to escape even in places where one would normally die, such as the Edgefield Street House kitchen or garage. Keep server lag in mind; if you misjudge the ghost's server-side position and coast around the ghost too late, it may kill you.", 'Smudge Sticks are recommended in case the playing being chased gets cornered or is otherwise in a bad position, allowing for them to move to a more favorable area to continue kiting the ghost. It is worth noting that when the Deogen is stunned with smudge sticks, it will maintain the speed at it was at when affected; in most cases, the Deogen will be moving at its minimum speed, meaning that the Deogen will only roam a very short distance before being able to chase players again.', 'The simplest way to identify a Deogen by its behavior would be for players to stand in a room that is comfortably big enough to kite the ghost in, but would be less likely for it to enter by being more distant from the Ghost Room. Make sure that everyone\'s electronics are turned off as well to prevent the ghost from being naturally led to the room. If the ghost sounds very fast as it rushes directly to where players are located before slowing down as it gets close, then it is a Deogen. A more advanced version of this strategy, applicable to larger maps, is to have players hiding across several different locations, each with varying distances to the ghost room. As the Deogen targets whoever is closest to it when it hunts, the player nearest to the ghost will be targeted; this player will also "manage" the ghost for the rest of the hunt.', 'Because the Deogen can see through all objects, many "safe spots" that make use of the absence of line-of-sight will be invalidated; it is better to simply kite the ghost instead.', 'Being visible for longer during hunts makes it easier to obtain ghost photos of; have a camera ready where needed.']},
"Goryo": {"evidence": ["emf", "fp", "dots"], "strengths": ["Only shows itself passing through D.O.T.S. on video camera when no players are nearby"], "weakness": ["When not hunting, its wandering distance will be shorter"], "ability": [], "behaviour": ['A Goryo will only interact with a D.O.T.S. Projector if no players are nearby. In addition, its D.O.T.S. silhouette is only visible through a Video Camera, and cannot be seen with the naked eye. A Goryo will still manifest normally during ghost events and hunts with its ghost model, which does not require any special equipment to be seen.', 'When not hunting, the Goryo is less likely to enter a wandering state.'], "strats": ["It is necessary to have a Video Camera either placed facing an active D.O.T.S. Projector, or held by a player outside the ghost's room. If D.O.T.S. evidence is visible in the camera's screen, but invisible in direct view, the ghost is likely to be a Goryo. Conversely, if D.O.T.S. is seen without the aid of a video camera, or if D.O.T.S. is seen while players are in the ghost's room, a Goryo can be safely ruled out. Turning up device or in-game brightness may help when trying to rule out a Goryo.", "Because the Goryo only requires no players near itself rather than where the D.O.T.S. projector is, in a few specific cases it may be possible to see D.O.T.S. while the player is still in the room with the projector, due to the Goryo being far enough from the player and interacting with the projector from there. The projector's interaction radius is relatively large, possibly around 3 to 5 metres for small maps.", 'It is important to note that its power only affects its silhouette with the D.O.T.S. Projector. A Goryo should not be ruled out simply because it has manifested during ghost events or hunts.', "While EMF 5 and Fingerprints normally indicate a possible Goryo, having both of them in Nightmare difficulty rules the Goryo out entirely, due to D.O.T.S. always being one of the Goryo's two given pieces of evidence."]},
"Hantu": {"evidence": ["fp", "orb", "therm"], "strengths": [], "weakness": [], "ability": ['Moves much quicker in colder areas during hunts', 'Emits frosty breath in freezing rooms'], "behaviour": ["This means that the Hantu is highly dependent on the map's Fuse Box state, as the presence of power keeps the investigation area warm and thus slows the Hantu down. Unlike most other ghost types, the Hantu does not accelerate while maintaining line of sight during hunts.", 'The Hantu cannot turn on the fuse box, as doing so would stop them from having higher speeds. It it also twice as likely to turn off the fuse box.', 'When the Hantu is visible during a hunt, it will emit freezing breath when it is in a room with a temperature equal to or lower than 3Â°C (37.4Â°F). Dead players cannot see this breath.'], "strats": ['Temperature plays an important role in both identifying and defending against a Hantu. In general, Hantus will be most powerful within and near the ghost room, where low and freezing temperatures are most likely to be. Thus, it is important that players get out of the Ghost Room as soon as a hunt begins, as the Hantu can quickly catch someone within its vicinity. Hantus are particularly dangerous during Light Snow weather, especially on Maple Lodge Campsite, as ambient room temperatures will generally be lower, raising their average speed during a hunt.', 'The Hantu loses speed in real-time as it moves from a cold room to a warm room and vice-versa: using keen ears to note the frequency of its footsteps as it moves, scattered video cameras to watch it move across the location from the Van, or most dangerously observing it in person, the Hantu can be potentially identified without all three types of evidence.', "Though leaving the breaker on is generally the safest strategy, players may also consider turning off the breaker to reduce the time it takes for the Hantu to bring a room to freezing if it roams or changes rooms, though the Hantu's increased speed in cold weather and player sanity drain should be considered when deciding whether to do so.", 'When the breaker is on and room temperatures are at their highest, it may be possible to loop the Hantu during a hunt around a large furniture piece such as a kitchen counter, as it does not gain any speed boosts during an extended chase. It is worth noting the mere presence of the ghost in that room will cool it down and make it increasingly harder to loop over time; such looping should not be done over an extended period of time, or should utilise a loop or series of loops that span multiple rooms.', "The Hantu's ability to emit freezing breath in rooms with freezing temperatures can be used to definitively identify it without evidence. This can be visually noticed by utilizing Smudge Sticks to stun it while it's hunting."]},
"Jinn": {"evidence": ["emf", "fp", "therm"], "strengths": [], "weakness": [], "ability": ["Travels at faster speeds if its target is far away"], "behaviour": ['During a hunt, when the Jinn enters the "chasing" mode by spotting a player, it will travel to them at a higher speed of 2.5 m/s,[note 1] until they are within 2 metres of the player. They will then pursue the player at the standard ghost speed.', 'The Jinn has another ability, that when used, will lower the sanity of all players within 3 metres of it by 25 percent. An EMF 2/5 reading will be generated at the fuse box.', 'For the Jinn to be able to use its abilities, the fuse box must be turned on. If the fuse box is not turned on, it cannot use either ability. Whether there are lights turned on or not does not affect this.', 'The Jinn cannot turn off a breaker directly through interacting with it. It can still turn it off unintentionally if it turns on a light, exceeding the limit on the number of the lights that can be turned on.[note 2]', 'There is a popular myth claiming the Jinn will interact with electronics often rather than other interactions; this is not true. The Jinn has an equal chance of interacting with anything nearby.'], "strats": ['A Jinn can be identified using its speed abilities. The fuse box should be turned on, and a player should wait in a large or long room for the ghost to hunt, with smudge sticks ready. The player should stand far away from where the ghost is expected to enter the room, with line-of-sight all the way through. When the ghost appears, observe whether it instantly gains speed to chase the player, then smudge it and escape. The Jinn will also slow down once it gets within 2 meters of its target, but be wary as testing this can be very risky. Note that the Revenant will also gain speed upon seeing a player, so the player should be listening whether the ghost retains a relatively normal ghost speed when not chasing a player.', "Turning off the location's breaker will prevent the Jinn from using its abilities. However, this will render the map's electrical lights inactive, thus leading to the players' sanity draining in the dark. Players will need to decide if preventing the Jinn from using its ability is worth dealing with more frequent hunts as a result of lower average sanity."]},
"Mare": {"evidence": ["sb", "orb", "book"], "strengths": ["Hunts at a higher sanity threshold in the dark"], "weakness": ["Hunts at a lower sanity threshold in a lit room"], "ability": ['Turns off lights and breaks lightbulbs more often', 'May turn off a light immediately after a player turns one on', 'Chooses unlit rooms to remain in more often'], "behaviour": ['If a player turns on a light near a Mare, it has a chance of turning the light off almost immediately. Mares cannot interact with lights to turn them on, and they are more likely to choose turning off lights as an interaction. When the Mare roams, it is more likely to choose an unlit room to roam into than a lit room.', 'A Mare has a modified hunt sanity threshold depending on whether the room it is currently in is lit. If the lights are turned off, the hunt sanity threshold is increased to 60 percent, and if the lights are turned on, the threshold is decreased to 40 percent. Other sources of light, such as brought-in equipment and candles, do not affect this threshold.', 'When performing a ghost event, Mares are more likely to choose one where the light bulbs explode, as this will disable the lights, making it easier to hunt.'], "strats": ['Mares can be identified by its traits in several ways: its ability to turn the lights back off the moment a player turns them on, its preference for light-breaking ghost events, and its increased hunt sanity threshould when in the dark. A ghost turning on the light directly eliminates the possibility of it being a Mare. On the other hand, any ghost may choose to never turn on a light throughout the entire game, so this negative should not be used to confirm the ghost type.', 'Players should be cautious when using the Spirit Box where the ghost is or looking for Ghost Orbs, as the Mare is more likely to hunt when the lights in its room are off, potentially catching players dangerously close to the Mare when it begins to hunt. Keep any other players informed when these evidences are confirmed or conclusively ruled out, so that the lights can be turned back on. This also applies in general when not looking to start a hunt and for other ghosts.', "As the Mare's hunt threshold is dependent on whether its current room is lit, the simplest way to delay a hunt is to keep the lights on in the ghost room and its vicinity, as this will prevent the Mare from hunting until the average team sanity is at 40 percent. Be aware of the locations of light switches and the fuse box, as having them off is to the Mare's advantage. Keeping a player near them can help to counteract the Mare's ability if they are turned off, whether by the ghost or from an electrical overload. Note that having lights turned on will not prevent the Mare from hunting if the average sanity is already below 40 percent.", "Whether the player(s) themselves are in a lit room does not affect the Mare's hunt sanity threshold, though this will help to slow their sanity drain."]},
"Moroi": {"evidence": ["sb", "book", "therm"], "strengths": ["Moves noticeably faster at low player sanity"], "weakness": ["Smudge sticks blind the ghost for longer during hunts"], "ability": ["Can curse players, making them lose sanity faster while investigating"], "behaviour": ['The Moroi has an ability to "curse" a target; if a player asks a question and obtains a response from the spirit box, that player will receive the curse. Similarly, hearing ghost sounds (such as footsteps and whispers) on the parabolic microphone will result in a curse.', 'When a player is cursed, their passive sanity drain will be doubled. Being in a lit area will not prevent their sanity drain. Walking outside the investigation area temporarily pauses the curse, while consuming Sanity Pills removes the curse for that player (they can later be re-cursed). Multiple players can be cursed at the same time, but curses cannot add up on a single player.', "The Moroi's speed is dependent on the average sanity at the beginning of the hunt. The base speed increases for every 5 percent average sanity drop. For example, the Moroi will move at 1.5 m/s at 50 percent average sanity, 1.875 m/s at 25 percent average sanity, and 2.25 m/s at 0 percent average sanity. Based on the example, the base speed of the Moroi increases by 0.075 m/s for every 5 percent average sanity drop. The list below is the base speed of the Moroi."], "strats": ["Given the Moroi's ability to drain sanity after responding through the spirit box, it is recommended to refrain from utilizing the Spirit Box after obtaining the first response. If necessary, only the player who previously asked questions should double-check the evidence, and other players should stay away while they are asking questions. Monitor that player's sanity for any noticeably faster sanity drain; this may help identify a Moroi earlier on, and allow for timely intervention in the form of sanity pills if needed.", "On Nightmare difficulty, one should pay attention to the ghost's speed; a ghost that speeds up over the course of multiple hunts as average sanity lowers could be a Moroi. The Moroi speeds up with line-of-sight; try to get a feel of the ghost's speed when it has not seen players compared to when it speeds up with continued line-of-sight, so that you could better identify the ghost even if it does speed up. Note that the Hantu will increase in speed if the fuse box is left off, though it does not speed up with line-of-sight; keep the fuse box turned on to avoid misidentification."]},
"Myling": {"evidence": ["emf", "fp", "book"], "strengths": ["Has quieter footsteps during hunts"], "weakness": ["Produces paranormal sounds more frequently"], "ability": [], "behaviour": ['When not hunting, a Myling will make paranormal sounds more often than other ghosts. These can be heard through a Parabolic Microphone.', "When hunting, a Myling's footstep sounds will only be audible to players within about 9 meters, similar to the distance required for electronic interference. The volume of footsteps is slightly muffled at 9 meters, but quickly becomes discernable as it approaches. Vocalizations during the hunt will remain audible at the same distance as other ghosts."], "strats": ["Players can hear an idle ghost's paranormal sounds (voices, growls, etc.) only through a Parabolic Microphone. Frequent paranormal sounds may indicate that the ghost is a Myling.", "A hunting Myling's footstep sound distance is about the same as the distance within which electronics will become interfered with. During a hunt, a player can drop a flashlight on the floor. When the ghost is on the same floor, if footsteps are audible only when the flashlight starts flickering, the ghost is probably a Myling."]},
"Obake": {"evidence": ["emf", "fp", "orb"], "strengths": [], "weakness": ["Can leave a unique fingerprint pattern"], "ability": ["Fingerprints disappear faster than for other ghost types"], "behaviour": ['When interacting with a valid surface, the Obake has a 75 percent chance of creating fingerprints, instead of the usual 100 percent. Additionally, when creating handprints or fingerprints, there is a one-sixth (~16.7 percent) chance for it to create a unique handprint/fingerprint pattern:', 'A six-fingered handprint instead of the usual five fingers', 'Two fingerprints on a light switch instead of one', 'Five fingerprints on keyboards and Prison cell doors instead of four', 'The Obake occassionally triggers an ability to reduce the remaining time for all existing, lingering fingerprints on the map by half. For example, two fingerprints lingering on the map with 40 seconds and 70 seconds before timing out and disappearing are cut in half to 20 and 35 seconds remaining respectively. This ability can be triggered multiple times on the same fingerprints, making it possible for a fingerprint to disappear mere seconds after appearing.', 'An Obake will not morph into a player model, does not have a unique ghost model that they can morph into, nor does it change models between manifestations and hunts. An Obake is still able to change between its fully-visible form, its translucent form, and its shadowy form between ghost events, which all ghosts are able to do. As such, one cannot tell whether a ghost is an Obake just by looking at its model.'], "strats": ['If the ghost touches a surface and leaves no fingerprints, then later leaves fingerprints on another surface, or vice versa, this usually points to the ghost being an Obake. Since the Obake can leave either normal fingerprints or its special fingerprints, seeing normal fingerprints would not rule out an Obake.', 'Taking a photo of the object or surface the ghost has interacted with prevails over bringing UV Flashlight or glowsticks onto the location if the ghost is suspected to be an Obake, because their fingerprints also expire quicker.']},
"Oni": {"evidence": ["emf", "therm", "dots"], "strengths": ['More active when people are nearby', 'Throws objects farther than other ghost types'], "weakness": ["Cannot produce airball ghost events"], "ability": [], "behaviour": ["The Oni is more active, interacting with objects more often, especially where there are people in the ghost room. When interacting with objects, an Oni has a chance of throwing it higher and/or with more force, making it land further away. Unlike Poltergeists, they cannot throw multiple items at once, nor does interacting with items reduce the players' sanity.", 'An Oni cannot perform the smoke ball ghost event that causes a hiss, but can still perform a manifestation (ghost) event and may hiss in that case. It also has a higher chance of showing in its full form during a manifestation event as opposed to a shadowy or translucent form. The Oni also prevents a "bugged", unrelated ghost mist from appearing on the map.'], "strats": ["Since it is one of the most active ghosts in the game, it may more readily give up evidence to players, which can make for generous and swift investigations if an Oni is quick to reveal the necessary evidence. A single item having been thrown halfway across a small room (comparable in size to the smaller bedrooms of Edgefield Street House, for example) could strongly indicate the Oni's presence.", 'Since the Oni cannot create the smoke-type ghost event, an Oni can be ruled out if the ghost performs such an event. The Oni could still cause a hiss if it performs the manifestation ghost event.']},
"Onryo": {"evidence": ["sb", "orb", "therm"], "strengths": ['Chance to hunt at any sanity after blowing out a flame', 'Blows out fiery objects (candles, campfire) more often than other ghost types'], "weakness": ["Presence of flames prevents the ghost from hunting"], "ability": [], "behaviour": ['Onryos have a hunt sanity threshold of 60 percent, compared to the standard 50 percent baseline.', 'The Onryo has a higher chance to blow out a flame than other ghosts. Morever, it has a special interaction with fiery objects: when a lit candle, lighter, or campfire (in Maple Lodge Campsite) is blown out by an Onryo, there is a chance for it to start a hunt regardless of average sanity. For example, if the Onryo attempts a normal hunt near a single flame, it will then blow out that flame, which by itself will cause the Onryo to roll again for another hunt attempt. If the roll fails, the ghost does not hunt. If the roll succeeds, the ghost will initiate a hunt unless another candle is nearby, in which case the whole process will be repeated. In multiplayer, this chance to hunt increases when players die, with a near-guaranteed chance when at least two players are dead.', 'Conversely, if a flame is present near the Onryo, it also acts as a crucifix and has priority over the actual crucifix if put on top of it. Every time the Onryo attempts to start a hunt within 4 metres of the flame, the hunt will fail and the ghost will blow out the candle instead. Candles extinguishing due to being thrown or going out by themselves does not count.'], "strats": ["The Onryo's aversion to fire is a double-edged sword. Sufficient candles and constant relighting may help to keep it from hunting, and this may also serve as identification for the ghost in Nightmare difficulty. On the other hand, having the Onryo within range of only one candle increases the risk of it hunting as a result of blowing it out. The latter is even riskier if one or more players have died, as a hunt is much more likely with one dead teammate and almost ensured with two. Players should consider whether having flames lit near the ghost is worth it to prevent hunts.", 'One way to test for an Onryo is to place a crucifix, followed by a lit candle directly on top, with possibly two such setups at once, or even more lit candles nearby. When sanity is deemed low enough, keep the candles lit in a timely manner. If the crucifix burns without the candle (or surrounding candles) going out first, then it is not an Onryo. If the ghost seems to not hunt with multiple candles, hunts in an area away from the candles, or blows out all of the candles before it hunts, then it may be an Onryo.', 'It is possible for the Onryo to blow out flames in quick succession, possibly due to both the hunt prevention and candle-based hunting mechanics overlapping; a chain reaction may occur with multiple candles.']},
"Phantom": {"evidence": ["sb", "fp", "dots"], "strengths": ["Additional sanity drain from players within its line-of-sight during manifestations and hunts"], "weakness": ['Taking a picture of the Phantom renders it temporarily invisible', 'When hunting, the model phases in and out less frequently'], "ability": ["Can roam towards random players, leaving behind a trail of evidence"], "behaviour": ['If a photo is a taken of a Phantom during a ghost event, it will disappear for the rest of the event: the ghost will be invisible in the photo, said will not have any interference patterns, electronic equipment will cease to malfunction, and players will no longer hear their heartbeats; the event sound will continue to play for the duration of the event. If a picture is taken during a hunt, the ghost will also be invisible in the photo, but it will continue to physically flash in and out. Taking a photo will not end a manifestation or a hunt.', 'The Phantom has an ability where it will choose a random player and travel to their location. This will create an EMF Level 2 reading all over the previous location without events or interactions. During that time, it will not produce any other manifestations and will not be able to initiate hunts unless prompted by player activity (using cursed objects).', "Being within 10 metres of a Phantom while in line-of-sight will reduce the player's sanity by approximately 0.5 percent per second. This applies during both ghost events and hunts.", 'During a hunt, a Phantom will flash visible every 1 to 2 seconds, as opposed to every 0.3 to 1 second for other ghosts, making it harder to take a photo of.'], "strats": ['Given Phantoms are visible during hunts less on average, observe whether the intervals where the ghost is invisible are longer than usual; if the ghost travels at a normal speed but has a greater distance between when it is visible, it may be a Phantom.', 'Taking a photo of the ghost during a manifestation ghost event will always cause a Phantom to disappear immediately upon the flash going off. The Phantom will remain invisible for the rest of that manifestation. Additionally, the picture will be labelled as Ghost, but the Phantom will not be visible in the photo, and there will be no interference pattern on the photo. Note that occasionally, desync may cause the same effect if the picture is taken right at the end of the event, even if the ghost is not a Phantom. After taking a picture during a ghost event, check if the ghost is no longer visible despite equipment in the area still going off.']},
"Poltergeist": {"evidence": ["sb", "book", "fp"], "strengths": ["Can throw multiple objects at once"], "weakness": ["Ineffective in empty rooms with no throwables"], "ability": ["Decrease sanity by throwing objects"], "behaviour": ['The Poltergeist will occasionally use an ability that allows it to throw multiple nearby items at once, creating an EMF level 3 reading. This will decrease the sanity of all players near the ghost by an amount equal to the number of items thrown multiplied by 2 percent.', 'In general, the Poltergeist is more likely to throw items.', 'If there are no items near a Poltergeist, it is unable to use its ability. This does not influence its behaviour towards initiating a hunt.'], "strats": ["A Poltergeist's ability to manipulate multiple objects at once may make it easier to identify. Players may throw multiple objects in close proximity and observe whether the ghost throws multiple items at once.", 'Unlike other ghosts, objects thrown by Poltergeists have the ability to decrease player sanity, even when they are not looking at the objects being thrown. This can also help to identify the ghost; if a player notices a significant dip in their sanity after they hear physical disturbances in nearby rooms, they can guess it is likely a Poltergeist they are facing.', "It's important to be perceptive when suspecting a Poltergeist. Sometimes other ghosts can be mistaken for one, like the Oni for example; as the Oni has an increased chance of activity and can throw/interact with objects about as often as a Poltergeist."]},
"Raiju": {"evidence": ["emf", "dots", "orb"], "strengths": ["Active electronics boost its speed during hunts"], "weakness": ["Disrupts electronics from further away when manifesting"], "ability": [], "behaviour": ['When a Raiju manifests during a ghost event or a hunt, it will interfere with electronics that are up to 15[verify] metres away on the same floor, instead of the usual 10 metres.', "When nearby at least one piece of active electronic equipment, the Raiju's hunt sanity threshold is increased to 65 percent, similar to a Yokai with talking. Otherwise, it has the normal threshold of 50 percent.", 'During hunts, if the Raiju is within a certain distance of at least once piece of active electronic equipment, it will move at a fixed speed of approximately 2.5 m/s:', 'Small map: 6m', 'Medium map: 8m', 'Large map: 10m', 'Otherwise, it will follow standard ghost speed rules. Though the Raiju cannot accelerate further while near electronic equipment, having line-of-sight with a player will still count towards its base speed increase; a Raiju moving at a normal speed entering the radius of electronic equipment will exit the radius at a higher speed if it has line-of-sight while within the radius.', 'All effects listed above apply to most electronic equipment, both when held in the hand and items dropped on the floor. Head mounted cameras, motion sensors, sound sensors, and building/structure lights, do not count towards the speed boost. Video cameras and cameras that are thrown also do not cause the Raiju to speed up.'], "strats": ["In order to mitigate the risk of an early hunt, it is best to turn off and/or remove any unneeded electronic equipment from the ghost room; this also prevents the Raiju from harnessing this equipment to empower itself while hunting. Lazily discarding such equipment is a reliable way to make a Raiju extremely dangerous. Additionally, players often have the reflex of discarding electronic items behind them when a hunt starts to not attract the ghost's attention to them; this should be avoided with Raijus to not leave a trail of electronic equipment to power his speed ability. Instead, players should either switch to a non-electronic item or an electronic item that can be turned off.", 'The Raiju may be readily-identified by being mindful of its speed during a hunt, particularly on small maps, so long as there are active electronic items nearby. If the ghost continues to walk very quickly when roaming (and not chasing particular players), then it is most likely a Raiju.']},
"Revenant": {"evidence": ["orb", "book", "therm"], "strengths": ["Travels at a faster speed when it has line-of-sight of a player during a hunt"], "weakness": ["Travels very slowly with no line-of-sight established"], "ability": [], "behaviour": ["When a Revenant is hunting, it will have one of two speeds: if it is not chasing a player in line-of-sight, it will roam at approximately 1.1 m/s (two-thirds of the standard ghost speed), but if it has line-of-sight with a player, it will chase them at 3 m/s, nearly twice the base speed of most other ghosts. The Revenant does not accelerate further when in an extended chase with a player."], "strats": ["Due to the Revenant's power, it is critical to hide as soon as possible during a hunt. A player will not be able to outrun a Revenant for long before it catches up to them. If you are caught running from a Revenant, your last resort is to use Smudge Sticks to ward it off for a few seconds, giving you enough time to break line of sight by turning corners and/or closing doors and hide from it.", "While hiding, listen for the ghost's footsteps; if the footsteps are relatively few and far between while the ghost is nearby, then it is most likely a Revenant. On multiplayer, the Revenant will perform an immediate area search just like any other ghost during hunts. However, it will take a longer time due to its slow movement speed while roaming, so wary players can easily identify it."]},
"Shade": {"evidence": ["emf", "book", "therm"], "strengths": ["Harder to find due to it being generally less active"], "weakness": ['Has a low hunt sanity threshold', 'Will not manifest around multiple players', 'Will not hunt with any player near it'], "ability": ["Prefers hissing and shadowy form ghost events"], "behaviour": ['The Shade can only hunt below an average sanity of 35 percent, lower than most other ghosts.', 'The Shade will be unable to perform interactions that give off EMF 3 when at least one player is in the same room as it. When at least one player is in the same room as a Shade, it will be unable to hunt. It may still hunt if it wanders into a room without players.', 'The Shade is less likely to perform ghost events at high sanities. At 100 percent average sanity, an attempted ghost event will succeed 0 percent of the time. This success rate increases by 2 percent per percentage of average sanity lost; at an average sanity of 50 percent, an attempted ghost event will always succeed.', "When it performs a ghost event, the Shade will prefer hissing into the player's ear instead of a full manifestation. If it does manifest for a ghost event, it has a higher chance of appearing as a shadow. If the ghost is made to appear using a Summoning Circle or a Music Box, it has a chance of appearing as a transparent, black shadow rather than in its full form while in the ghost event stage."], "strats": ["Due to the Shade's aforementioned shyness, the lack of interactions may give it away, or players may become frustruated at the ghost not producing evidence. Try keeping everyone out of the ghost room, as well as using smudge sticks or specific cursed possessions that will increase the chance of the ghost interacting with the environment. Turning off the lights in the ghost's room may also help.", "Given the Shade's inability to hunt in a room with players, one can be tested for in Nightmare difficulty simply by lowering the average sanity close to zero, and having players standing in the ghost's current room and rooms directly adjacent. If it refuses to hunt or hunts only in a room without players, then it may be a Shade.", "In singleplayer on Nightmare difficulty, one useful way to identify a Shade is to drop the average sanity to zero, before using two sanity pills to restore the player's sanity to 50 percent, then allowing a small drop of sanity for a few seconds within the investigation area before stopping it via candles or room lights (ideally hiding far away or on a different floor to prevent witnessing ghost events that may drain sanity). A ghost that refuses to hunt at this sanity may indicate that the ghost is a Shade.", 'The Shade appearing as a shadow in the summoning circle is only a chance, so seeing a full manifestation would not rule out a Shade.']},
"Spirit": {"evidence": ["emf", "sb", "book"], "strengths": [], "weakness": ["Using Smudge Sticks while nearby prevents it from hunting for longer"], "ability": [], "behaviour": ["When a Smudge Stick is used near a Spirit, it will not be able to initiate a hunt for 180 seconds instead of 90 seconds with most other ghosts. This does not apply to cursed hunting."], "strats": ['With no special powers, and a harsher reaction to Smudge Sticks, Spirits serve as a baseline to measure other ghosts against. With their behavior not being especially unique amongst the ghosts, this lack of defining traits that can confuse investigators; therefore, unless clear evidence is established, a Spirit can be easily mistaken for another entity.', 'The main (and usually only) way to test for a Spirit without using evidences is to lower the average sanity to below 50 percent, and smudge the ghost while it is not hunting; if it hunts before the three minutes is up, it is not a Spirit. If it hunts only after three minutes, it is very likely (though not conclusively) a Spirit. Note that if it hunts within the first minute of the smudge stick being used, then the smudge stick did not work, and the player should attempt to smudge it again. In Nightmare difficulty, players should wait for a hunt or a burnt crucifix to confirm that the average sanity is low enough.']},
"Thaye": {"evidence": ["orb", "book", "dots"], "strengths": ["Becomes very active the first time a player gets nearby"], "weakness": ["The more time players spend near it, the quieter and slower it becomes"], "ability": [], "behaviour": ['The Thaye is more likely to interact with the D.O.T.S Projector and Ghost Writing Book; in other words, it will on average write in a book earlier than other ghosts, and show up more often as a silhouette on the D.O.T.S Projector.', 'The Thaye has an "age" parameter that decreases its general activity. Every 1 to 2 minutes, the Thaye attempts to age; if at least one player is inside the investigation area, and is either near the ghost or in the same room as the ghost, the Thaye will age, else it will wait another 30 seconds before attempting to age again. The Thaye can age a total of 10 times per contract. ', 'The Thaye does not speed up with line-of-sight of a player.', 'If The Mimic mimics a Thaye, it will select a random starting age, and if the requirements for it to age are successful, The Mimic will mimic another ghost instead of ageing.', 'Over time, the age given when asked for via the Ouija Board will increase.[verify] How the age increases over time is unknown.'], "strats": ['With a Thaye, both interactions and events will be more frequent from the start of the investigation, which may make it easier to locate the ghost. On the other hand, if players do not locate the ghost quickly, especially on large maps, the Thaye may reach its hunt sanity threshold quickly and begin to hunt, making it potentially as aggressive as a Demon (and possibly mistaken for one).', 'Once the ghost has been located, setting up ghost writing books and D.O.T.S Projectors early may help, especially on Nightmare where one evidence is hidden; if the ghost neither writes in the book nor show up on the D.O.T.S Projector within a few minutes, then both the Thaye and the Deogen can be thought to be less likely candidates, though using the absence of evidences is not a clear-cut strategy.', 'One could identify a Thaye through its hunting behaviour; if it is fast early in the contract, slows down over several hunts as players continue spending time near it, and does not gain speed with line-of-sight, then a Thaye is likely. Likewise, if the ghost hunts early and has high levels of activity, but becomes less willing to hunt, interact, or perform ghost events over time, this could also point to a Thaye.', 'Because ghost events and interactions are more common early on, one should use this opportunity to complete any objectives or fill the journal with photos. Taking the hunt sanity threshold into consideration, if one is careful with how they interact with the ghost, a (near-)perfect contract can be achieved easily, but if players spend excessive time in the ghost room and are not careful with their cursed possession, completing objectives and obtaining photo evidence could become an annoying (or boring) task.']},
"The mimic": {"evidence": ["sb", "fp", "therm"], "strengths": ["Mimics other ghost types one after another for brief periods of time"], "weakness": ["Induces Ghost Orbs as fourth evidence (third on Nightmare)"], "ability": [], "behaviour": ['The Mimic is able to imitate any type of ghost, and inherit all of its features and abilities. It may also copy features of evidences, but not evidences themselves. For example, this means that it can copy the Obake\'s six-fingered handprints as The Mimic itself has fingerprints, but if it chooses to mimic a Goryo, it cannot show up via a D.O.T.S. Projector as it is not one of its evidences. The Mimic may occasionally change the ghost type that it chooses to imitate every 30 seconds to about 2 minutes. The Mimic may also imitate the player or The Mimic (itself), but in these cases, it will not have any special abilities; it will act as a "default" ghost. Mimicking the player, as well as any other ghost, does not change its ghost model.', 'The Mimic also provides "evidence" of Ghost Orbs in addition to its three main evidence types, which also appear on Nightmare difficulty. In effect, this is the only ghost that would appear to have four types of evidence (or three on Nightmare). The Ghost Orbs, along with the other evidences if none are hidden due to the difficulty, will always exist regardless of the type of ghost that The Mimic chooses to imitate.', 'Although some players have suggested the ghost orbs produced by The Mimic tend to follow it around when changing rooms, these orbs in fact behave in exactly the same way as those produced by other ghost types and will only levitate in rooms still or recently haunted.'], "strats": ["The Mimic's fundamental nature means that it is unpredictable: it can theoretically have the powers of almost any ghost type at any time, most notably ghost abilities that could enable early hunts. The safest way to handle a Mimic is to treat it as if it had every potential modifier that could increase its aggression, and make sure to utilize if not all, then at least a few tactics that would be used to dissuade attacks from other ghost types:", 'Try to minimize speaking when near the ghost (Yokai)', 'Turn off electronics that are no longer needed (Raiju)', 'Keep the lights on in the Ghost Room (Mare)', 'Make sure to have a source of flame in the Ghost Room (Onryo)', 'In general, be prepared for the possibility of early hunts (Demon)', 'Additionally, it is recommended to have Smudge Sticks handy once nearing average hunt thresholds, as The Mimic may imitate ghosts such as the Revenant that can quickly end a chase.', 'The presence of Ghost Orbs with The Mimic means that players have to take care when trying to identify the ghost with three pieces of evidence, including Ghost Orbs, if there is a potential overlap between The Mimic and another ghost. For example, identifying Fingerprints, Ghost Orbs, and Freezing Temperatures usually indicates a Hantu, but as The Mimic creates orbs, Spirit Box evidence has to be definitively ruled out before a Hantu can be confirmed. Players should be conscientious searching for evidence if such a situation arises. Greater attention will have to be paid to this point in Nightmare difficulty, as players will normally be given only two evidences, though conclusively identifying three pieces of evidence in Nightmare will also confirm the ghost as The Mimic.', 'Concerning evidence, noting the behavior of specific ghost types, but getting evidence that they do not have, can bring The Mimic into suspicion, allowing for more focused evidence-gathering. For example, if the ghost touches two doors on different parts of the map in very close succession, which is usually a strong indication of The Twins, but Fingerprints are successfully noted, then The Mimic can be strongly presumed.']},
"The twins": {"evidence": ["emf", "sb", "therm"], "strengths": ["Can hunt from a different place than expected"], "weakness": ["Can interact with the environment simultaneously"], "ability": ["Differing speeds depending on which twin hunts"], "behaviour": ['Despite its name, The Twins is simply one ghost. This means that there is no decoy "twin" to:', 'Set off motion sensors', 'Produce evidence of Freezing Temperatures or Spirit Box', 'Perform ghost events or hunts at the same time', 'The Twins has two interaction ranges; the second range extends out larger than the first range. When performing interactions, The Twins can choose to perform one interaction using the smaller radius, one using the larger radius, or two interactions within both radii at the same time. This makes it more active interaction-wise, on average.', 'When the ghost attempts to initiate a hunt, there is a 50 percent chance for it to begin at the main ghost, and a 50 percent chance for it to begin from near the where the larger radius interaction occurred (the "decoy twin"). When this happens, the twin which initiated the hunt will follow standard hunting rules like most other ghost types. Two hunts cannot occur simultaneously, and the ghost will follow the standard 25-second cooldown between hunts.', 'Each "twin" has a different moving speed during hunts. The main ghost moves 10 percent slower than the standard ghost speed, while the "decoy twin" will move 10 percent faster. Noticing a subtle change in speed from one hunt to another might indicate that the player is dealing with The Twins.', 'When using a crucifix in an attempt to prevent hunts, regardless of which "twin" tries to hunt, the crucifix check will be applied for only the main ghost, even if the hunt is trying to start from the "decoy twin" far away.'], "strats": ["The Twin's primary strength is their ability to misdirect: the wandering Twin can very easily conjure red herring interactions at parts of the map far from the main Twin that grants evidence, misleading hunters and delaying their efforts to gather evidence. This can be be especially troublesome on bigger maps like Asylum when trying to locate the ghost room. However, the wandering Twin's inability to give evidence past EMF Level 5 can also be used against it: using a thermometer and noting a lack of Freezing Temperatures (or, at the very least, notable temperature drops) where ghost activity is noted, or failing to receive Spirit Box responses in rooms near where interactions occurred, are strong signs of the antics of a wandering Twin causing trouble.", 'Due to The Twins having two choices in regards to angles of attack for any given hunt, it is recommended to plan for the event that one of the Twins "blocks" a planned escape route.']},
"Wraith": {"evidence": ["emf", "sb", "dots"], "strengths": ["Doesn't leave footprints after stepping in salt"], "weakness": ["Stepping in salt temporarily makes it more active"], "ability": ["Can briefly manifest itself around players when they're not in its room"], "behaviour": ['When the Wraith is not hunting, it has a chance to teleport within 3 meters of a random player, generating an EMF Level 2 reading, with a 25 percent chance for this to be an EMF Level 5 reading instead. Wraiths cannot teleport during hunts, but may by chance initiate a hunt after teleporting.', 'When a Wraith steps in a salt pile, indicated by the presence of an imprint, it will never leave any UV-visible footprints, even if it moves and makes footstep noises. It will also temporarily have an increased amount of ghost activity.', 'Wraiths cannot and do not:', 'Attempt to avoid salt piles, even during hunts', 'Fail to leave imprints in salt; they will always do so if they step in it, except during hunts', 'Float off the ground, whether during hunts or manifestations. A Wraith cannot be identified by looking at its ghost model', "See through physical objects such as walls and doors, despite the Journal's description of the Wraith suggesting otherwise", 'Walk quietly; Wraiths will emit footstep noises at the same volume as most other ghosts', 'Walk through walls, even during hunts; they can only walk through doors (which all other ghosts are also able to do).'], "strats": ['If players obtain seemingly random EMF level 2 or 5 readings, especially when far away from the ghost room, it may indicate the Wraith teleporting to the player.', "A relatively accurate method for identifying a Wraith without gathering evidence is placing salt piles near it, with a UV Flashlight or glowstick ready. When the ghost passes through the salt, aim the UV light toward the ghost's footstep noises. If no footprints are visible, even under UV light, the ghost is most likely a Wraith; at the same time, visible footprints definitely rule out a Wraith. Note that any ghost can step in salt and choose not to move afterwards, generating no footprints; players should listen for multiple footstep sounds before checking for footprints.", "As Wraiths leave no footprints and no fingerprints, they are notoriously difficult to get maximum photo rewards with. Try placing props around the ghost's general location for interaction photos, or utilize a Ouija Board if one spawns."]},
"Yokai": {"evidence": ["sb", "orb", "dots"], "strengths": [], "weakness": ["Can only hear and detect electronics within 2 metres of it"], "ability": ["Talking near it will increase its chance of hunting"], "behaviour": ['When at least one player talks (or produces significant noise) within a certain range of the Yokai, its hunt sanity threshold is temporarily increased to 80 percent. Otherwise, it has the normal threshold of 50 percent. Talking near the Yokai at any sanity will also increase its activity.', 'During hunts, a Yokai can only hear players or sense handheld active electronics that are within 2 meters of it.'], "strats": ['The Yokai is easily identifiable by two distinctive traits: it will hunt more often when players are together and talking near it, but its ability to detect hidden players during a hunt through voice or electronics will be limited: for example, it will be less likely to follow the player past multiple line-of-sight breaks, and will not be attracted to their electronics unless both are very close to each other. The Yokai does not have any additional buffs when hunting, so escaping it will be generally easier.', 'In multiplayer, the Yokai becomes mildly more dangerous, given that talking near the Yokai could initiate a hunt at very high average sanity level and therefore very early into an investigation. Where possible, less experienced players should ideally keep voice communications as short as possible until the ghost room is found. Otherwise, completing whiteboard objectives can be made easier by encouraging the Yokai to hunt through talking.']},
"Yurei": {"evidence": ["orb", "therm", "dots"], "strengths": [], "weakness": ["Will be temporarily confined to its room after smudging"], "ability": ["May randomly shut a door and deduct nearby players' sanity", 'Prefers "airball" ghost events'], "behaviour": ["The Yurei has the ability to drop the sanity of all players within 7.5 metres by about 15 percent. When this happens, one randomly selected door (if available) in the ghost's current room will close rapidly, with a distinctly delayed door shut sound.[note 1] This in turn produces an interaction, just like any other door touch. Players outside the investigation area will not be affected by the sanity drain.", 'When Smudge Sticks are used on the Yurei, in addition to preventing hunts and increasing activity, it will not leave the room that it is currently in for 90 seconds.'], "strats": ['Generally, keeping doors wide open near the ghost will help one to observe when the Yurei uses its ability. If the ghost fully shuts a door from an open state, then it is likely a Yurei. Note that any ghost can shut a door in the exact same manner, though the Yurei will do it much more often due to it being tied to its ability. Additionally, any ghost can close doors in the same manner during a hunt or an actual ghost event; one should only look out for the identifier outside of hunts and ghost events.', 'As long as the player is within range of the Yurei when it performs its ability, the sanity drain will apply even if there are no doors. Look out for sudden drops in the sanity of individual players, or what may feel like an early hunt; these may be a result of the Yurei using its ability.']}
}

app = Flask(__name__)

def parse(data):
    ret = r""
    for index, item in enumerate(data):
        if index == len(data)-1:
            ret += f"{item}"
        else:
            ret += f"{item}<br>"
    return ret


@app.route("/")
def main():
    global GHOST
    global lastmsg
    code = str()
    if ghostdata[GHOST]["strengths"]:
        code += f"""
        <div>
            <h2>Strengths</h2>
            <p>{parse(ghostdata[GHOST]["strengths"])}</p>
        </div>
        """
    if ghostdata[GHOST]["weakness"]:
        code += f"""
        <div>
            <h2>Weaknesses</h2>
            <p>{parse(ghostdata[GHOST]["weakness"])}</p>
        </div>
        """
    if ghostdata[GHOST]["behaviour"]:
        code += f"""
        <div>
            <h2>Behaviour</h2>
            <p>{parse(ghostdata[GHOST]["behaviour"])}</p>
        </div>
        """
    if ghostdata[GHOST]["strats"]:
        code += f"""
        <div>
            <h2>Strategy</h2>
            <p>{parse(ghostdata[GHOST]["strats"])}</p>
        </div>
        """
    
    style = """
        <style>
        *{
            font-family: rubik,helvetica,arial,sans-serif;
            color:#e6e6e6;
            box-sizing: border-box;
            overflow-x: hidden;
        }
        p{
            font-size: 1.3em;
            font-size: inherit;
            font-weight: 400;
            line-height: 1.75;
            // margin: 0 0 24px;
            position: relative;
            left: 10px;
        }
        html{
            background-color: rgb(27, 26, 26);
        }
        #ghost{
            position: relative;
            /* display: inline; */
            top: 15px;
            text-align: center;
        }
        #lastmsg{
            text-align: right;         
        }
        #textbox{
            position: absolute;
            right: 5px;
            width: 20%;
        }
        #evidencecontainer{
            display: flex;
            justify-content: center;
            align-items: flex-start;
            width: 99%;
            position: absolute;
            /* left:0;
            right: 0;
            margin: auto inherit; */
        }
        .evidence{
            width: 30px;

        }
    </style>"""

    script = """
    <script type="text/javascript">
    //put this somewhere in "show.html"
    //using window onload event to run function
    //so function runs after all content has been loaded.
    //After refresh this entire script will run again.
    window.onload = function () {
        'use strict';
        var millisecondsBeforeRefresh = 2500; //Adjust time here
        window.setTimeout(function () {
            //refresh the entire document
            document.location.reload();
        }, millisecondsBeforeRefresh);
    };
</script>"""

    return f"""
    <html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phasmophobia Cheat Sheet</title>
    {style}
    {script}
</head>
<body>
    <div id="textbox"><h4 id="lastmsg">{lastmsg}</h6></div>
    <h1 id="ghost">{GHOST}</h1>
    <div id="evidencecontainer">
        <img src="/static/{ghostdata[GHOST]["evidence"][0]}.webp" alt="" class="evidence">
        <img src="/static/{ghostdata[GHOST]["evidence"][1]}.webp" alt="" class="evidence">
        <img src="/static/{ghostdata[GHOST]["evidence"][2]}.webp" alt="" class="evidence">
    </div>
    {code}
</body>
</html>"""

@app.route("/changeghost")
def change():
    global GHOST
    GHOST = request.args.get("ghost")
    return str(GHOST)

@app.route("/setmsg")
def setmsg():
    global lastmsg
    lastmsg = request.args.get("msg")
    return "0"

if __name__ == "__main__":
    app.run("127.0.0.1", port=8844)